var PageModuleBlogComment=function(a){this.app=a;this.setting={"class":{},header:!0};this.template={};this.currentURI=""};
PageModuleBlogComment.prototype={Description:function(){return this.descript=$("<h3>module PageModuleBlogComment</3></h4>module duoc dung de show cac bai post, anh, duong dan den cac bai post ...</h4>")},Init:function(a){if("undefined"==typeof this.inited)this.inited=!0;else return!0;var b=this;this.currentURI=window.location.href;this.form=a;this.posts=this.form.find(".main .posts:first");a=JSON.parse(Base64.decode(this.form.attr("module-setting")));for(var c in a)this.setting[c]=a[c];b.app._Router.AddCallback(this.form.parents("[site-name]:first").attr("site-name"),
this.form.parents("[page-name]:first").attr("page-name"),function(a){a!=b.currentURI&&(b.currentURI=a,b.form.find(".facebook-comments").html(""),b.Refesh())})},Refesh:function(){var a=this;"undefined"!=typeof a.setting["class"]&&$.each(a.setting["class"],function(b,c){var d=a.form.find("."+b);$.each(d,function(a,b){var d=$(b);d.data("md-classed")||d.addClass(c).data("md-classed",!0)})});if("undefined"!=typeof a.setting.header){var b=a.form.find(".main:first .header:first");a.setting.header?b.show():
b.hide()}try{var c=a.form.find(".facebook-comments"),d=window.location.href;0==c.children().length&&$('<div class="fb-comments" data-width="100%" data-href="'+d+'" data-numposts="10" data-colorscheme="light"></div>').appendTo(c)}catch(f){}try{FB.XFBML.parse(this.form[0])}catch(e){console.debug(e)}}};
