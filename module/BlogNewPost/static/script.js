var PageModuleBlogNewPost=function(a){this.app=a;this.setting={"class":{},trigger:{},like:!0,comment:!0,toolbar:"affix"};this.template={}};
PageModuleBlogNewPost.prototype={Description:function(){return this.descript=$("<h3>module PageModuleBlogNewPost</3></h4>module duoc dung de show cac bai post, anh, duong dan den cac bai post ...</h4>")},Init:function(a){if("undefined"==typeof this.inited)this.inited=!0;else return!0;var d=this;this.form=a;a=JSON.parse(Base64.decode(this.form.attr("module-setting")));for(var f in a)this.setting[f]=a[f];this.form.bind("view",function(e,c){e.preventDefault();e.stopPropagation()});this.form.on("click",
".toolbar li",function(e){e=$(this).attr("name");d.form.find(".toolbar li").removeClass("inset active").filter("[name="+e+"]").addClass("inset active");d.form.find(".input div").hide().filter("."+e).show().find("input").focus()});this.form.on("change",".input input",function(e){var c=$(this),b=c.attr("name");d.form.find(".input input:hidden").val("");if("file"==b)for(var c=e.target.files,b=0,a;a=c[b];b++){if(a.type.match("image.*")){var f=new FileReader;f.onload=function(a){return function(a){var b=
d.form.find(".post .content:first");b.children().remove();$('<img src="'+a.target.result+'">').appendTo(b)}}(a);f.readAsDataURL(a)}}else"link"==b&&(b=d.form.find(".post .content:first"),b.children().remove(),2==c.val().split("www.youtube.com/watch?v=").length?(c=$('<iframe width="100%" src="'+c.val().split("youtube.com/watch?v=").join("youtube.com/embed/")+'" frameborder="0" allowfullscreen></iframe>').appendTo(b),b=c.width(),c.height(315*b/560)):$('<img src="'+c.val()+'">').appendTo(b));e.preventDefault();
e.stopPropagation()});this.form.on("submit","form",function(a){var c=$(this).find("[name=file]"),b=$(this).find("[name=link]"),d=[];0==c.val().length&&0==b.val().length&&d.push("B\u1ea1n ch\u01b0a ch\u1ecdn \u1ea3nh/video \u0111\u1ec3 upload");0==$(this).find("[name=title]").val().length&&d.push("B\u1ea1n ch\u01b0a nh\u1eadp Ti\u1ec1u \u0111\u1ec1 c\u1ee7a b\u00e0i vi\u1ebft");return 0<d.length?(a.preventDefault(),!1):!0})},Load:function(a){},Render:function(a,d){},Refesh:function(){}};
