PageModuleFbComment.prototype=new Module;PageModuleFbComment.prototype.constructor=PageModuleFbComment;function PageModuleFbComment(a){Module.call(this,a);$.extend(this.setting,{header:!0,onrouter:!0})}PageModuleFbComment.prototype.Init=function(a){Module.prototype.Init.call(this,a);var b=this;if(b.setting.onrouter)b.onRouter(function(a){b.Refesh({url:a.url})});else b.Bind("url",function(a){a.url&&b.Refesh({url:a.url})})};
PageModuleFbComment.prototype.Refesh=function(a){Module.prototype.Refesh.call(this);void 0==a&&(a={});a=$.extend({url:window.location.href},a);if(void 0!=this.setting.header){var b=this.form.find(".main:first .header:first");this.setting.header?b.show():b.hide();delete this.setting.header}try{var c=this.form.find(".facebook-comments:first"),d=c.attr("url");a.url!=d&&c.attr("url",a.url).html('<div class="fb-comments" data-width="100%" data-href="'+a.url+'" data-numposts="10" data-colorscheme="light"></div>')}catch(f){}try{FB.XFBML.parse(this.form[0])}catch(e){console.debug(e)}};
